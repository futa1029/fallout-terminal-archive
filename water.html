<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>水 | Overseer Mohi's Terminal</title>
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f0f0f;
            --text-color: #e0e0e0;
            --accent-color: #ff66cc; /* Dynamic Theme Color */
            --header-bg: #1a1a1a;
            --panel-bg: #222;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Sans JP', sans-serif;
            margin: 0;
            line-height: 1.8;
        }

        /* 2-Column Grid Layout */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
        }

        h1, h2, h3 {
            font-family: 'Share Tech Mono', 'Noto Sans JP', monospace;
            color: var(--accent-color);
            border-bottom: 1px solid var(--accent-color);
            padding-bottom: 5px;
        }

        h1 {
            font-size: 2.2em;
            margin-top: 0;
            line-height: 1.4;
        }

        .date {
            font-size: 1.1em;
            color: #888;
            margin-bottom: 20px;
            font-family: 'Share Tech Mono', monospace;
        }

        /* Sidebar InfoBox */
        .infobox {
            background: var(--panel-bg);
            border: 2px solid var(--accent-color);
            padding: 15px;
            height: fit-content;
        }

        .infobox img {
            width: 100%;
            border: 1px solid #555;
            margin-bottom: 15px;
        }

        .infobox-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9em;
            border-bottom: 1px dashed #444;
        }

        .infobox-label {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* Content Area matching manual entries */
        .content {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 5px;
            font-size: 1.1em;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        /* Quote Box for Impressions */
        .quote-box {
            font-style: auto;
            border-left: 4px solid var(--accent-color);
            padding-left: 20px;
            margin: 40px 0 20px 0;
            background: color-mix(in srgb, var(--accent-color) 10%, transparent);
            padding: 15px;
            border-radius: 0 5px 5px 0;
            line-height: 1.6;
        }

        .quote-box b {
            color: var(--accent-color);
            font-size: 1.05em;
        }

        .content a {
            color: var(--accent-color);
            text-decoration: none;
            border-bottom: 1px solid transparent;
        }

        .content a:hover {
            border-bottom: 1px solid var(--accent-color);
        }
        
        /* Auto Cross-Links */
        .auto-link {
            color: #ffce07 !important;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dashed #ffce07 !important;
            transition: all 0.2s;
            padding: 0 2px;
        }

        .auto-link:hover {
            background-color: rgba(255, 206, 7, 0.2);
            border-bottom: 1px solid #ffce07 !important;
        }

        /* Note specific Inline Images */
        .note-figure {
            margin: 30px 0;
            text-align: center;
        }
        
        /* Terminal / Holotape / Note Logs */
        .note-figure blockquote {
            background-color: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--accent-color);
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            margin: 0;
            border-radius: 4px;
            color: #dcdcdc;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
            font-family: 'Share Tech Mono', 'Noto Sans JP', monospace;
            text-align: left;
        }

        .content img {
            max-width: 100%;
            height: auto;
            border: 1px solid #444;
            display: block;
            margin: 0 auto 10px auto;
        }

        .note-figcaption {
            text-align: center;
            font-size: 0.9em;
            color: #888;
            margin-bottom: 20px;
            font-style: italic;
        }

        /* Action Header */
        .action-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .back-link {
            display: inline-block;
            color: var(--accent-color);
            text-decoration: none;
            border: 1px solid var(--accent-color);
            padding: 8px 15px;
            font-family: 'Share Tech Mono', monospace;
            transition: all 0.2s;
        }

        .back-link:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        .like-button {
            background: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 8px 15px;
            font-size: 1.1em;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Share Tech Mono', monospace;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .like-button:hover {
            box-shadow: 0 0 10px var(--accent-color);
        }

        .like-button.liked {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                padding: 10px;
                gap: 20px;
            }
            .infobox {
                grid-row: 1;
                width: 100%;
                box-sizing: border-box;
            }
            .content {
                padding: 15px;
            }
            h1 {
                font-size: 1.6em;
            }
            .action-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="infobox">
            <h3 style="margin-top:0; text-align:center;">水</h3>
            <img src="images/note_extracted/n2426d4f08cfe_img_1.png" alt="水">
            <div class="infobox-row"><span class="infobox-label">カテゴリ</span><span>アイテム</span></div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="action-header">
                <a href="lore.html" class="back-link">&lt; BACK TO TERMINAL</a>
                <button class="like-button" data-article-id="note_n2426d4f08cfe" onclick="toggleLike(this)">
                    <span class="heart">♡</span> <span class="like-count">0</span>
                </button>
            </div>

            <h1>水</h1>
            <div class="date">DATE: 2025/12/3</div>
            
            <h3 name="40051ca5-8c26-43b0-bec8-998bb2cb99ec" id="40051ca5-8c26-43b0-bec8-998bb2cb99ec">汚れた水</h3><ul name="b21458f0-ffe9-445f-9b89-b942b69fe498" id="b21458f0-ffe9-445f-9b89-b942b69fe498"><li><p name="4fc1cd67-6e9b-4160-b7b9-aa9a94c4f3b8" id="4fc1cd67-6e9b-4160-b7b9-aa9a94c4f3b8">概要: <br>ウェイストランドで最も一般的に見られる水。<br>汚染された湖、川、水たまりから採取されます。</p></li><li><p name="85bb7927-6244-4894-9aa0-0597be601081" id="85bb7927-6244-4894-9aa0-0597be601081">効果: <br>浄水とは異なり、放射能ダメージを受けます。<br>これは医師による治療や<a href="radaway.html" class="auto-link">RadAway</a>で回復できます。</p></li></ul><hr name="4e688c34-061d-4900-8a69-b83b9ad4455e" id="4e688c34-061d-4900-8a69-b83b9ad4455e"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_2.png" alt="" width="567" height="737"><div class="note-figcaption"></div></div><h3 name="8568a57d-3f54-4214-b2e2-0056bc50d798" id="8568a57d-3f54-4214-b2e2-0056bc50d798">きれいな水</h3><ul name="6a69bda1-9d52-44d4-b20c-f9a4db0f38a6" id="6a69bda1-9d52-44d4-b20c-f9a4db0f38a6"><li><p name="c0cadf37-7781-4b50-929f-fa8a7234d5f9" id="c0cadf37-7781-4b50-929f-fa8a7234d5f9">概要: <br>放射能が除去され、安全に飲める水です。</p></li><li><p name="fba1eb98-6943-4323-81af-fdfa1b090e4e" id="fba1eb98-6943-4323-81af-fdfa1b090e4e">出現: <br>モハビや連邦ほどキャピタル・ウェイストランドでは一般的ではありませんが、救急キットやより高度な居住地で見られます。</p></li></ul><hr name="8be409bd-eddd-4060-98e0-9743ffd3f777" id="8be409bd-eddd-4060-98e0-9743ffd3f777"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_3.png" alt="" width="620" height="738"><div class="note-figcaption"></div></div><h3 name="cca93ccf-be9d-40ab-bdf7-a7a3d1d7076a" id="cca93ccf-be9d-40ab-bdf7-a7a3d1d7076a">Aqua Pura（アクア・プーラ）</h3><ul name="93a61ed2-dcd4-4478-a265-f71a6b681d33" id="93a61ed2-dcd4-4478-a265-f71a6b681d33"><li><p name="2d62863d-64fa-48cf-bd7b-da16b860eb26" id="2d62863d-64fa-48cf-bd7b-da16b860eb26">概要: <br>Project Purity（プロジェクト・ピュリティ）で浄化された潮汐盆地（Tidal Basin）の水が瓶詰めされたものです。</p></li></ul><hr name="2f30498c-ce3e-4e03-b818-f8dc93e33d9f" id="2f30498c-ce3e-4e03-b818-f8dc93e33d9f"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_4.png" alt="" width="620" height="752"><div class="note-figcaption"></div></div><h3 name="946fb354-548b-4f15-95a9-c54b048d1acb" id="946fb354-548b-4f15-95a9-c54b048d1acb">Aqua Cura（アクア・クーラ）</h3><ul name="1a45fa3b-0269-466f-8a19-173eb7babe93" id="1a45fa3b-0269-466f-8a19-173eb7babe93"><li><p name="c6ea7038-53e9-4bc1-b5c3-f481de699521" id="c6ea7038-53e9-4bc1-b5c3-f481de699521">概要: <br><a href="ghoul.html" class="auto-link">グール</a>がよく患う病気の治療薬として、グリフォンがアンダーワールドで販売している、通常の放射能汚染された水をAqua Cura（アクア・クーラ）のボトルに偽装したものです。<br>グリフォンは本物のAqua Pura（アクア・プーラ）を盗み、他のウェイストランド人に高値で販売しています。</p></li></ul><hr name="1e8397d0-65ec-4e62-b664-398b11513fad" id="1e8397d0-65ec-4e62-b664-398b11513fad"><h3 name="6350321b-b0ff-49d4-972b-cb7da700b5c6" id="6350321b-b0ff-49d4-972b-cb7da700b5c6">聖水</h3><ul name="cb7ad0bc-d49c-47e0-91e5-43da2b191393" id="cb7ad0bc-d49c-47e0-91e5-43da2b191393"><li><p name="d2a7b82c-2781-4b66-a71d-4dcc8a8b0a3c" id="d2a7b82c-2781-4b66-a71d-4dcc8a8b0a3c">概要: マザー・キュリー3世によって製造された、Aqua Puraの放射能汚染された変種です。</p></li></ul><hr name="7c0551c2-2cc0-463b-b450-fd5276a15011" id="7c0551c2-2cc0-463b-b450-fd5276a15011"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_5.png" alt="" width="620" height="737"><div class="note-figcaption"></div></div><h3 name="2e08a5e0-7d40-4e60-a5b7-6bec9b8d4aaf" id="2e08a5e0-7d40-4e60-a5b7-6bec9b8d4aaf">サボテン水</h3><ul name="95753eea-93bf-4f90-a5c9-54bde507d6b0" id="95753eea-93bf-4f90-a5c9-54bde507d6b0"><li><p name="61baad29-828d-4f17-8d6e-eed40b5f0ae8" id="61baad29-828d-4f17-8d6e-eed40b5f0ae8">概要: <br>『Fallout: New Vegas』のレシピ名であり、運び屋が浄水をクラフトできるようにするものです。</p></li><li><p name="46e4e0d9-81f8-41a3-a087-a2cfceffe06f" id="46e4e0d9-81f8-41a3-a087-a2cfceffe06f">クラフト要件:</p><ul name="d1691e26-5565-414c-bc06-67f0c408bebb" id="d1691e26-5565-414c-bc06-67f0c408bebb"><li><p name="2fd497d8-5fff-48a5-b829-a70d7e9cafbe" id="2fd497d8-5fff-48a5-b829-a70d7e9cafbe">材料: 空のソーダボトル (1)、ウチワサボテンの実 (2)</p></li><li><p name="f766ac97-bc5d-4b21-a407-ea42d3392719" id="f766ac97-bc5d-4b21-a407-ea42d3392719">要件: キャンプファイヤーまたは電気ホットプレート、サバイバル: 30</p></li><li><p name="5f27ac3b-50dd-483e-8553-4b75323515e8" id="5f27ac3b-50dd-483e-8553-4b75323515e8">生産: 浄水 (1)</p></li></ul></li></ul><hr name="f4e1190e-9b85-4cd2-8e0c-808c905636a8" id="f4e1190e-9b85-4cd2-8e0c-808c905636a8"><h3 name="ed8fa10d-c89b-4b8c-832c-760a6640357b" id="ed8fa10d-c89b-4b8c-832c-760a6640357b">放射能汚染された水</h3><ul name="cd65f3b5-26ac-4394-985d-50735a942850" id="cd65f3b5-26ac-4394-985d-50735a942850"><li><p name="f4454eb6-db5c-493f-8506-9141754ecba8" id="f4454eb6-db5c-493f-8506-9141754ecba8">概要: <br>『Fallout: New Vegas』の汚れた水の変種。<br>より強いレベルの放射線にさらされており、汚れた水の3倍の放射能を摂取者に与えます。<br>主に高度に放射能汚染された地域で見られます。</p></li></ul><hr name="3d58cd4f-ac24-4967-866a-b2c0b759fe2d" id="3d58cd4f-ac24-4967-866a-b2c0b759fe2d"><h3 name="b1328802-2ce2-40aa-b42f-644d97d41ff0" id="b1328802-2ce2-40aa-b42f-644d97d41ff0">Mass purified water（大量浄水）</h3><ul name="d3dc02ee-f489-46ec-bcdd-6817388fe49c" id="d3dc02ee-f489-46ec-bcdd-6817388fe49c"><li><p name="d7ed4f44-218e-47b8-a934-8b9ded7f001c" id="d7ed4f44-218e-47b8-a934-8b9ded7f001c">概要: <br>『Fallout: New Vegas』のレシピ名であり、運び屋が大量の浄水を生産できるようにするものです。</p></li><li><p name="a03f3518-f20d-42c1-a4cb-e888cedb6b28" id="a03f3518-f20d-42c1-a4cb-e888cedb6b28">クラフト要件:</p><ul name="b719cedc-8f1c-47e9-9af4-c9cb4ef19aea" id="b719cedc-8f1c-47e9-9af4-c9cb4ef19aea"><li><p name="263cb0fe-60e2-4373-a2ff-6febb7345287" id="263cb0fe-60e2-4373-a2ff-6febb7345287">材料: 汚れた水 (5)、ガラスピッチャー (2)、手術用チューブ (1)</p></li><li><p name="0f7b1c6f-be38-4c58-a66f-4f8d8f0aed9c" id="0f7b1c6f-be38-4c58-a66f-4f8d8f0aed9c">要件: キャンプファイヤーまたは電気ホットプレート、サバイバル: 50</p></li><li><p name="3eba58d3-f17a-4dfb-b915-673fea74d1f3" id="3eba58d3-f17a-4dfb-b915-673fea74d1f3">生産: 大量浄水 (4)（浄水4本分を生産）</p></li><li><p name="34274248-436a-4e03-8d87-e8b1d2be8045" id="34274248-436a-4e03-8d87-e8b1d2be8045">ガラスピッチャーと手術用チューブはクラフト後にインベントリに戻り、再利用可能です。</p></li></ul></li></ul><hr name="a7dbc45a-5a8e-43ac-ac4f-dc26c9c8a02c" id="a7dbc45a-5a8e-43ac-ac4f-dc26c9c8a02c"><h3 name="c65bb73d-1a97-4bec-a7d0-147b51186ff3" id="c65bb73d-1a97-4bec-a7d0-147b51186ff3">Rushing water（ラッシング・ウォーター）</h3><ul name="27219916-c8a9-4581-a719-517c363242d2" id="27219916-c8a9-4581-a719-517c363242d2"><li><p name="67dfd558-a162-43eb-83de-71dc45d01c9b" id="67dfd558-a162-43eb-83de-71dc45d01c9b">概要: <br>『Lonesome Road』でクラフト可能な水の変種で、運び屋の攻撃速度をブーストします。<br>エネルギーが急増しますが、中毒性はありません。</p></li><li><p name="15d15192-2712-47b6-aa45-8249cf420bf9" id="15d15192-2712-47b6-aa45-8249cf420bf9">クラフト要件:</p><ul name="71b3c7e6-8185-47a3-904f-21959cce7dbc" id="71b3c7e6-8185-47a3-904f-21959cce7dbc"><li><p name="f29bb5ee-6d9c-4595-af2f-5ccd29164d8a" id="f29bb5ee-6d9c-4595-af2f-5ccd29164d8a">材料: Jet (1)、浄水 (1)</p></li><li><p name="6affc777-0e34-476d-93a0-c812cb42f2ba" id="6affc777-0e34-476d-93a0-c812cb42f2ba">要件: キャンプファイヤーまたは電気ホットプレート、サバイバル: 50</p></li><li><p name="45936844-8d14-4674-844e-ec622fc87774" id="45936844-8d14-4674-844e-ec622fc87774">生産: Rushing water (1)</p></li></ul></li></ul><hr name="ade75292-6831-4dea-ab37-216b509b78ef" id="ade75292-6831-4dea-ab37-216b509b78ef"><h3 name="5c37d4ea-a6b0-4fa3-8fa2-dd7aecbf4be2" id="5c37d4ea-a6b0-4fa3-8fa2-dd7aecbf4be2">薬物入り水</h3><ul name="48c3aaa1-9379-44ea-ab81-540711659451" id="48c3aaa1-9379-44ea-ab81-540711659451"><li><p name="3a8928d2-cb17-46ec-b9f9-6c14e1046b1f" id="3a8928d2-cb17-46ec-b9f9-6c14e1046b1f">概要: <br>HalluciGen, Inc.によって鎮静剤が混入された戦前の変種。<br>被験者の摂取の一部として使用され、効果が現れた後、被験者は検査のために研究員に連れて行かれました。</p></li></ul><hr name="3dd21c4e-4f71-40f1-9b86-a52d5404d338" id="3dd21c4e-4f71-40f1-9b86-a52d5404d338"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_6.png" alt="" width="397" height="503"><div class="note-figcaption"></div></div><h3 name="688d3da8-99e3-4901-9e82-65a55ce29ed8" id="688d3da8-99e3-4901-9e82-65a55ce29ed8">インスティチュート瓶詰め水</h3><ul name="f69ab158-3b22-4669-8077-77a8322e9d5e" id="f69ab158-3b22-4669-8077-77a8322e9d5e"><li><p name="0d1f67ba-10d1-4a44-b185-65beb4eed3ea" id="0d1f67ba-10d1-4a44-b185-65beb4eed3ea">概要: <br>インスティチュートによって瓶詰めされ、配布される浄水変種。<br>シンセのカフェテリア従業員から購入できます。</p></li></ul><hr name="95a69578-6edf-442f-9abe-1ead04d11e22" id="95a69578-6edf-442f-9abe-1ead04d11e22"><div class="note-figure"><img src="images/note_extracted/n2426d4f08cfe_img_7.png" alt="" width="620" height="769"><div class="note-figcaption"></div></div><h3 name="8e377ad1-4525-47cd-80ee-a0a9d22cf4bd" id="8e377ad1-4525-47cd-80ee-a0a9d22cf4bd">沸騰した水</h3><ul name="967b9f29-67b7-444b-8a10-f8680ee6a4c0" id="967b9f29-67b7-444b-8a10-f8680ee6a4c0"><li><p name="6ca9ea95-81a6-41f6-90d3-750916de8adc" id="6ca9ea95-81a6-41f6-90d3-750916de8adc">概要: <br>『Fallout 76』でクラフト可能な水。<br>濾過され、火で加熱されています。<br>汚れた水よりも安全ですが、浄水ほどきれいではなく、依然としてわずかな放射能ダメージを与えます。<br>多くのお茶、スープ、薬のクラフトに不可欠です。</p></li></ul><hr name="f1e26e58-c3cc-42e8-a967-81e82a616d7b" id="f1e26e58-c3cc-42e8-a967-81e82a616d7b"><h3 name="0854d9f3-f936-4a89-a3ee-ef1fa67648a5" id="0854d9f3-f936-4a89-a3ee-ef1fa67648a5">有毒な水</h3><ul name="0c6296e7-c90a-427d-afd8-d71b47cee380" id="0c6296e7-c90a-427d-afd8-d71b47cee380"><li><p name="db5940d1-0f12-4b00-85a1-b4496db05971" id="db5940d1-0f12-4b00-85a1-b4496db05971">概要: <br>『Fallout 76』の高濃度放射能汚染水。<br>特に汚染された水源（通常、茶色やオレンジ色）から採取できます。<br>ゲーム内の水変種の中で最も危険であり、沸騰させたり浄化したりすることはできません。</p></li></ul><hr name="f97ad95c-09d3-4233-af31-990c379f5b60" id="f97ad95c-09d3-4233-af31-990c379f5b60"><h2 name="cfe10bbf-8ad0-4c90-afc3-a917e92f5c53" id="cfe10bbf-8ad0-4c90-afc3-a917e92f5c53">注記</h2><ul name="a673e91f-118d-449d-9051-e5f6552a9b3b" id="a673e91f-118d-449d-9051-e5f6552a9b3b"><li><p name="4be41e34-ac18-45d7-85bb-0fbfd6491160" id="4be41e34-ac18-45d7-85bb-0fbfd6491160">『Fallout 3』および『Fallout: New Vegas』では、湖、川、水たまりなどのたまり水を飲むと、2から30 HPを回復できます。</p></li><li><p name="04a8e89a-4a72-4053-9bb2-9e629306e8cc" id="04a8e89a-4a72-4053-9bb2-9e629306e8cc">『<a href="fallout-4.html" class="auto-link">Fallout 4</a>』では、そのような水を飲むとHPが回復しますが、プレイヤーキャラクターの放射線レベルも増加します。</p></li></ul><hr name="26e13a74-255c-4bdf-8b5c-75ff69d1fac0" id="26e13a74-255c-4bdf-8b5c-75ff69d1fac0"><div class="quote-box">
<b>感想</b><br><br>
<a href="fallout76.html" class="auto-link">Fallout76</a>の残念な所はトイレから水をすすれない事ですね。<br>他の作品であれば初心者がトイレにインタラクトできるなーと操作するとまさかのすすりだすという行為をする為、注意が必要です。<br><br>ウェイストランドでは戦後間もないということもあって綺麗な水はパッケージされた物が沢山手に入りますが、Fallout3では綺麗な水を巡って戦争まで勃発します。<br><br>一方モハビではサボテン水とかいう最強の綺麗な水が存在したりと地域によってかなり格差がある水事情でした。<br><br>ちなみに調べたんですけど、放射能に汚染されている水を沸騰させたところで勿論放射能が減ったり現実ではしないので、76プレイヤー達の技術力はヤバいです。
</div>

<p name="25198133-dc7b-4bb6-afc1-1c1ccec5020e" id="25198133-dc7b-4bb6-afc1-1c1ccec5020e">This article uses material from the “Endor” article on the Star Wars wiki at Fandom and is licensed under the Creative Commons Attribution-Share Alike License.</p>
        </main>
    </div>

    <!-- Supabase Scripts -->
    <script>
        const supabaseUrl = 'https://qkdjufvdeisnunismgaw.supabase.co';
        const supabaseKey = 'sb_publishable_6MtJQZESOx1XLLZ6cBeyJA_D_DyT2Zl';
        const supabase = supabase.createClient(supabaseUrl, supabaseKey);

        async function toggleLike(btn) {
            const articleId = btn.getAttribute('data-article-id');
            let isLiked = localStorage.getItem(articleId + '_liked') === 'true';
            btn.disabled = true;

            if (isLiked) {
                isLiked = false;
                const { data, error } = await supabase.rpc('decrement_like', { article_id_param: articleId });
                if (!error) {
                    localStorage.setItem(articleId + '_liked', isLiked);
                    updateLikeButton(btn, isLiked, data);
                }
            } else {
                isLiked = true;
                const { data, error } = await supabase.rpc('increment_like', { article_id_param: articleId });
                if (!error) {
                    localStorage.setItem(articleId + '_liked', isLiked);
                    updateLikeButton(btn, isLiked, data);
                }
            }
            btn.disabled = false;
        }

        function updateLikeButton(btn, isLiked, count) {
            const heart = btn.querySelector('.heart');
            const countSpan = btn.querySelector('.like-count');
            if (isLiked) {
                btn.classList.add('liked');
                heart.textContent = '♥';
            } else {
                btn.classList.remove('liked');
                heart.textContent = '♡';
            }
            countSpan.textContent = count;
        }

        document.addEventListener('DOMContentLoaded', async () => {
            const btn = document.querySelector('.like-button');
            if (btn) {
                const articleId = btn.getAttribute('data-article-id');
                const isLiked = localStorage.getItem(articleId + '_liked') === 'true';
                const { data, error } = await supabase
                    .from('likes')
                    .select('like_count')
                    .eq('article_id', articleId)
                    .single();

                let count = 0;
                if (!error && data) count = data.like_count;
                updateLikeButton(btn, isLiked, count);
            }
        });
    </script>
</body>
</html>