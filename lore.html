<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>Overseer Mohi's Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --term-green: #33ff33;
            --term-bg: #000;
            --term-dim: #00aa00;
            --term-highlight: rgba(51, 255, 51, 0.2);
        }

        body {
            background-color: var(--term-bg);
            color: var(--term-green);
            font-family: 'Share Tech Mono', 'Noto Sans JP', monospace;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            text-shadow: 0 0 5px var(--term-dim);
            padding: 40px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        /* CRT Scanline Effect */
        body::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--term-green);
            padding-bottom: 20px;
        }

        .header h1 {
            margin: 0;
            font-weight: normal;
            letter-spacing: 2px;
        }

        .header .sub {
            font-size: 0.8em;
            opacity: 0.8;
        }

        .terminal-screen {
            flex: 1;
            overflow-y: auto;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
            padding-right: 10px;
        }

        /* Scrollbar styling */
        .terminal-screen::-webkit-scrollbar {
            width: 10px;
        }

        .terminal-screen::-webkit-scrollbar-track {
            background: #111;
        }

        .terminal-screen::-webkit-scrollbar-thumb {
            background: var(--term-dim);
            border: 1px solid var(--term-green);
        }

        .line {
            margin-bottom: 10px;
        }

        .cursor::after {
            content: "█";
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        /* Controls Area */
        .controls {
            margin-bottom: 20px;
            border: 1px solid var(--term-dim);
            padding: 15px;
            font-size: 0.9em;
        }

        .control-group {
            margin-bottom: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }

        .control-label {
            min-width: 100px;
            font-weight: bold;
        }

        .btn {
            background: transparent;
            border: 1px solid transparent;
            color: var(--term-dim);
            padding: 2px 8px;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.1s;
            position: relative;
        }

        .btn:hover {
            color: var(--term-green);
            text-shadow: 0 0 8px var(--term-green);
            text-decoration: underline;
        }

        /* Improved Active State */
        .btn.active {
            color: var(--term-green);
            font-weight: bold;
            text-shadow: 0 0 5px var(--term-green);
            border: 1px solid var(--term-green);
            background: rgba(51, 255, 51, 0.1);
        }

        .btn.active::before {
            content: "[ ";
        }

        .btn.active::after {
            content: " ]";
        }

        /* Search Input */
        .search-input {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--term-dim);
            color: var(--term-green);
            font-family: inherit;
            font-size: 1.1em;
            width: 200px;
            outline: none;
        }

        .search-input:focus {
            border-bottom-color: var(--term-green);
            box-shadow: 0 1px 0 var(--term-green);
        }

        /* Menu Items */
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--term-green);
            text-decoration: none;
            padding: 10px 5px;
            border-bottom: 1px dashed #004400;
            transition: all 0.2s;
        }

        .menu-item:hover {
            background: var(--term-highlight);
            border-left: 5px solid var(--term-green);
            padding-left: 10px;
        }

        .item-meta {
            font-size: 0.8em;
            opacity: 0.7;
            display: flex;
            gap: 10px;
        }

        .badge {
            border: 1px solid var(--term-dim);
            padding: 0 4px;
            border-radius: 2px;
        }

        .footer {
            margin-top: 20px;
            text-align: center;
            font-size: 0.8em;
            opacity: 0.6;
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>ROBCO INDUSTRIES (TM) TERMLINK PROTOCOL</h1>
        <div class="sub">ENTER PASSWORD NOW</div>
    </div>

    <div class="terminal-screen">
        <div class="line">> WELCOME TO OVERSEER MOHI'S PRIVATE TERMINAL.</div>
        <div class="line">> UNAUTHORIZED ACCESS IS STRICTLY PROHIBITED.</div>
        <div class="line">> ACCESSING DATABASE... OK.</div>
        <br>

        <!-- Controls -->
        <div class="controls">
            <div class="control-group">
                <span class="control-label">SORT:</span>
                <button class="btn active" onclick="setSort('date')">DATE (日付)</button>
                <button class="btn" onclick="setSort('name')">NAME (名前)</button>
            </div>
            <div class="control-group">
                <span class="control-label">CATEGORY:</span>
                <button class="btn active" onclick="setFilter('category', 'all')">ALL</button>
                <button class="btn" onclick="setFilter('category', '人物')">PERSON (人物)</button>
                <button class="btn" onclick="setFilter('category', '勢力')">FACTION (勢力)</button>
                <button class="btn" onclick="setFilter('category', '場所')">LOCATION (場所)</button>
            </div>
            <div class="control-group">
                <span class="control-label">APPEARANCE:</span>
                <button class="btn active" onclick="setFilter('appearance', 'all')">ALL</button>
                <button class="btn" onclick="setFilter('appearance', 'Fallout 76')">FO76</button>
                <button class="btn" onclick="setFilter('appearance', 'Fallout: New Vegas')">FO:NV</button>
                <button class="btn" onclick="setFilter('appearance', 'Fallout TV')">TV SHOW</button>
            </div>
            <div class="control-group">
                <span class="control-label">SEARCH:</span>
                <input type="text" id="searchInput" class="search-input" placeholder="TYPE TO SEARCH..."
                    oninput="renderEntries()">
            </div>
        </div>

        <div class="line">----------------------------------------</div>
        <div class="line">SEARCH RESULTS: <span id="result-count">0</span> ENTRIES FOUND</div>
        <div class="line">----------------------------------------</div>
        <br>

        <div id="entries-container">
            <!-- Entries will be injected here by JS -->
        </div>

        <br>
        <div class="line cursor">> AWAITING INPUT</div>
    </div>

    <div class="footer">
        ROBCO INDUSTRIES UNIFIED OPERATING SYSTEM LEVEL 5
    </div>

    <script>
        // Data Source
        const loreEntries = [
            {
                name: "アーロン・キンボール",
                yomi: "あーろん・きんぼーる",
                url: "kimball.html",
                category: "人物",
                appearance: "Fallout: New Vegas",
                date: "2026-02-19"
            },
            {
                name: "レイダー (Fallout 76)",
                yomi: "れいだー",
                url: "raiders_76.html",
                category: "勢力",
                appearance: "Fallout 76",
                date: "2026-02-19"
            },
            {
                name: "リー・モルデイヴァー",
                yomi: "りー・もるでいゔぁー",
                url: "lee_moldaver.html",
                category: "人物",
                appearance: "Fallout TV",
                date: "2026-02-19"
            },
            {
                name: "Vaultの居住者",
                yomi: "ぼるとのきょじゅうしゃ",
                url: "vault_dweller_lore.html",
                category: "人物",
                appearance: "Fallout 76",
                date: "2026-02-18"
            }
        ];

        // State
        let currentSort = 'date'; // 'date' | 'name'
        let currentFilters = {
            category: 'all',
            appearance: 'all'
        };

        // DOM Elements
        const container = document.getElementById('entries-container');
        const countDisplay = document.getElementById('result-count');
        const searchInput = document.getElementById('searchInput');

        // Functions
        function renderEntries() {
            const searchTerm = searchInput.value.toLowerCase().trim();

            // Filter
            let filtered = loreEntries.filter(entry => {
                const catMatch = currentFilters.category === 'all' || entry.category === currentFilters.category;
                const appMatch = currentFilters.appearance === 'all' || entry.appearance === currentFilters.appearance;

                let searchMatch = true;
                if (searchTerm) {
                    searchMatch = entry.name.toLowerCase().includes(searchTerm) ||
                        entry.yomi.includes(searchTerm);
                }

                return catMatch && appMatch && searchMatch;
            });

            // Sort
            filtered.sort((a, b) => {
                if (currentSort === 'date') {
                    // Newest first
                    return new Date(b.date) - new Date(a.date);
                } else if (currentSort === 'name') {
                    // A-Z (using yomi for proper JP sorting)
                    return a.yomi.localeCompare(b.yomi);
                }
            });

            // Update UI
            countDisplay.innerText = filtered.length;
            container.innerHTML = '';

            filtered.forEach(entry => {
                const el = document.createElement('a');
                el.href = entry.url;
                el.className = 'menu-item';
                el.innerHTML = `
                    <span>> ${entry.name}</span>
                    <div class="item-meta">
                        <span class="badge">${entry.category}</span>
                        <span class="badge">${entry.appearance}</span>
                    </div>
                `;
                container.appendChild(el);
            });

            if (filtered.length === 0) {
                container.innerHTML = '<div class="line" style="color:red">> NO MATCHING ARCHIVES FOUND.</div>';
            }
        }

        function setSort(type) {
            currentSort = type;
            updateButtons('sort', type);
            renderEntries();
        }

        function setFilter(type, value) {
            currentFilters[type] = value;
            updateButtons(type, value);
            renderEntries();
        }

        function updateButtons(type, value) {
            const buttons = document.querySelectorAll('button');
            buttons.forEach(btn => {
                const onClick = btn.getAttribute('onclick');
                if (onClick && onClick.includes(type)) {
                    if (onClick.includes(`'${value}'`)) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                }
            });
        }

        // Initialize
        window.onload = renderEntries;

    </script>

</body>

</html>